<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>μ§μ› κΈ‰μ—¬ κ΄€λ¦¬</title>
    <link rel="stylesheet" href="../../../../../../../resources/static/css/branch/storemangement/specification/globals.css" />
    <link rel="stylesheet" href="../../../../../../../resources/static/css/branch/storemangement/specification/styleguide.css" />
    <link rel="stylesheet" href="../../../../../../../resources/static/css/branch/storemangement/specification/style.css" />
</head>

<body>
    <main class="frame">
        <section class="content">
            <header class="header">
                <div class="date">
                    <button class="button" aria-label="λ‚ μ§ μ„ νƒ">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M16.666 2.50004H15.8327V1.66671C15.8327 1.20837 15.4577 0.833374 14.9993 0.833374C14.541 0.833374 14.166 1.20837 14.166 1.66671V2.50004H5.83268V1.66671C5.83268 1.20837 5.45768 0.833374 4.99935 0.833374C4.54102 0.833374 4.16602 1.20837 4.16602 1.66671V2.50004H3.33268C2.41602 2.50004 1.66602 3.25004 1.66602 4.16671V17.5C1.66602 18.4167 2.41602 19.1667 3.33268 19.1667H16.666C17.5827 19.1667 18.3327 18.4167 18.3327 17.5V4.16671C18.3327 3.25004 17.5827 2.50004 16.666 2.50004ZM15.8327 17.5H4.16602C3.70768 17.5 3.33268 17.125 3.33268 16.6667V6.66671H16.666V16.6667C16.666 17.125 16.291 17.5 15.8327 17.5Z"
                                fill="#969696" />
                        </svg>

                        <span class="text">2025λ…„ 1μ›”</span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6.17806 9.48454L9.18389 12.4904C9.63651 12.943 10.3677 12.943 10.8203 12.4904L13.8261 9.48454C14.5572 8.7534 14.035 7.5 13.0021 7.5H6.99045C5.95756 7.5 5.44691 8.7534 6.17806 9.48454Z"
                                fill="#969696" />
                        </svg>

                    </button>
                </div>
                <div class="input">
                    <label for="product-name" class="product-name">ν’λ…</label>
                    <input type="text" id="product-name" name="product-name" class="product-name-input"
                        aria-label="ν’λ… μ…λ ¥" />
                </div>
            </header>
            <table class="table-container">
                <thead>
                    <tr>
                        <th>μκΈ‰ μƒνƒ</th>
                        <th>κ²°μ  λ²νΈ</th>
                        <th>μ΄λ¦„</th>
                        <th>λ…μ„Έ λ“±λ΅μΌ</th>
                        <th>μ§λ¬΄</th>
                        <th>λ‹΄λ‹Ήμ</th>
                        <th>μ΄λ©”μΌ</th>
                        <th>μ›”κΈ‰</th>
                        <th>μ „ν™”λ²νΈ</th>
                        <th>μ„±λ³„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="needpay-button">μκΈ‰</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="needpay-button">μκΈ‰</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="needpay-button">μκΈ‰</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="needpay-button">μκΈ‰</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="needpay-button">μκΈ‰</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                    <tr>
                        <td><button class="pay-button">μκΈ‰ μ™„λ£</button></td>
                        <td>1111</td>
                        <td>μµμμ°¬</td>
                        <td>2025-03-20</td>
                        <td>κ΄€λ¦¬μ</td>
                        <td>ν™©μΈνƒ</td>
                        <td>qbsb147@naver.com</td>
                        <td>3000000μ›</td>
                        <td>010-6640-8235</td>
                        <td>λ‚¨</td>
                    </tr>
                </tbody>
            </table>

        </section>
        <nav class="pagination" aria-label="νμ΄μ§€ λ„¤λΉ„κ²μ΄μ…">
            <button class="pre-page" aria-label="μ΄μ „ νμ΄μ§€">
                <svg width="29" height="26" viewBox="0 0 29 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.9226 22.4738C20.6925 21.7753 20.6925 20.6469 19.9226 19.9484L12.2627 12.9989L19.9226 6.04936C20.6925 5.35083 20.6925 4.22243 19.9226 3.5239C19.1526 2.82537 17.9089 2.82537 17.139 3.5239L8.07745 11.7451C7.30752 12.4436 7.30752 13.572 8.07745 14.2706L17.139 22.4918C17.8891 23.1724 19.1526 23.1724 19.9226 22.4738Z" fill="black"/>
                    </svg>
            </button>
            <button class="page" aria-label="1 νμ΄μ§€"><span class="text-wrapper-7">1</span></button>
            <button class="page" aria-label="2 νμ΄μ§€"><span class="text-wrapper-7">2</span></button>
            <button class="div-wrapper" aria-label="3 νμ΄μ§€, ν„μ¬ νμ΄μ§€"><span class="text-wrapper-8">3</span></button>
            <button class="page" aria-label="4 νμ΄μ§€"><span class="text-wrapper-7">4</span></button>
            <button class="page" aria-label="5 νμ΄μ§€"><span class="text-wrapper-7">5</span></button>
            <button class="page" aria-label="6 νμ΄μ§€"><span class="text-wrapper-7">6</span></button>
            <button class="page" aria-label="7 νμ΄μ§€"><span class="text-wrapper-7">7</span></button>
            <button class="page" aria-label="8 νμ΄μ§€"><span class="text-wrapper-7">8</span></button>
            <button class="page" aria-label="9 νμ΄μ§€"><span class="text-wrapper-7">9</span></button>
            <button class="page" aria-label="10 νμ΄μ§€"><span class="text-wrapper-9">10</span></button>
            <button class="pre-page" aria-label="λ‹¤μ νμ΄μ§€">
                <svg width="29" height="26" viewBox="0 0 29 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07745 3.52616C7.30752 4.22469 7.30752 5.35309 8.07745 6.05163L15.7373 13.0011L8.07745 19.9506C7.30752 20.6492 7.30752 21.7776 8.07745 22.4761C8.84738 23.1746 10.0911 23.1746 10.861 22.4761L19.9226 14.2549C20.6925 13.5564 20.6925 12.428 19.9226 11.7294L10.861 3.50825C10.1109 2.82763 8.84738 2.82763 8.07745 3.52616Z" fill="black"/>
                    </svg>
                    
            </button>
        </nav>
    </main>
</body>

</html>



document.getElementById("employeeForm").addEventListener("submit", function(event) {
event.preventDefault();

const userNameInput = document.getElementById("user-name");
let userName = userNameInput.value.trim();
if (!userName) {
alert("μ§μ› μ΄λ¦„μ„ μ…λ ¥ν•μ„Έμ”.");
return;
}

let encodedUserName = encodeURIComponent(userName);
let requestUrl = "/branch/storemangement/specification/table/searchByName?userName=" + encodedUserName;

fetch(requestUrl, {
method: "GET",
headers: { "Content-Type": "application/json" }
})
.then(response => {
if (!response.ok) {
throw new Error(`κ²€μƒ‰ μ‹¤ν¨: ${response.status}`);
}
return response.json();
})
.then(data => {
renderEmployeeList(data); // κ²€μƒ‰λ μ§μ› λ©λ΅ λ λ”λ§
})
.catch(error => console.error("Error:", error));
});

function renderEmployeeList(employees) {
const tableBody = document.getElementById("employeeTable");

if (!tableBody) {
console.error("π¨ employeeTable μ”μ†κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤!");
return;
}

tableBody.innerHTML = ""; // κΈ°μ΅΄ λ°μ΄ν„° μ΄κΈ°ν™”

employees.forEach(employee => {
console.log("π“Ά μ§μ› λ°μ΄ν„° ν™•μΈ:", employee);
console.log("π“Ά positionName ν™•μΈ:", employee.positionName);
console.log("π“Ά salary κ°’:", employee.salary);

console.log("π“Ά salary κ°’:", employee.salary);
console.log("π“Ά salary νƒ€μ… ν™•μΈ:", typeof employee.salary, employee.salary);

console.log("π“Ά innerHTMLλ΅ λ“¤μ–΄κ°€λ” κ°’:", `
<td>${employee.salary}</td>
`);


const statusText = (!employee.status || employee.status.trim() === "") ? "μκΈ‰" : employee.status;
const buttonClass = (statusText === "μκΈ‰ μ™„λ£") ? "pay-button" : "needpay-button";

const userNameValue = employee.userName ?? "μ—†μ"; // undefined, null λ°©μ§€
const enrollDate = employee.enrollDate ?? "β μ—†μ";
const positionName = employee.positionName ?? "β μ—†μ";
const headName = employee.headName ?? "β μ—†μ";
const email = employee.email ?? "β μ—†μ";
const salary = employee.salary ? `${employee.salary.toLocaleString()}μ›` : "β μ—†μ";
const phone = employee.phone ?? "β μ—†μ";
const gender = employee.gender ?? "β μ—†μ";

// ν–‰ (tr) μƒμ„±
const row = document.createElement("tr");

// λ²„νΌ (μκΈ‰ μƒνƒ)
const button = document.createElement("button");
button.className = buttonClass;
button.textContent = statusText;
button.setAttribute("data-user-name", userNameValue);
button.setAttribute("onclick", "goToPaySlip(this)");

const tdButton = document.createElement("td");
tdButton.appendChild(button);

// λ‚λ¨Έμ§€ λ°μ΄ν„° μ¶”κ°€
const tdUserName = document.createElement("td");
tdUserName.textContent = userNameValue;

const tdEnrollDate = document.createElement("td");
tdEnrollDate.textContent = enrollDate;

const tdPositionName = document.createElement("td");
tdPositionName.textContent = positionName;

const tdHeadName = document.createElement("td");
tdHeadName.textContent = headName;

const tdEmail = document.createElement("td");
tdEmail.textContent = email;

const tdSalary = document.createElement("td");
tdSalary.textContent = salary;

const tdPhone = document.createElement("td");
tdPhone.textContent = phone;

const tdGender = document.createElement("td");
tdGender.textContent = gender;

// ν…μ΄λΈ” ν–‰μ— μ¶”κ°€
row.appendChild(tdButton);
row.appendChild(tdUserName);
row.appendChild(tdEnrollDate);
row.appendChild(tdPositionName);
row.appendChild(tdHeadName);
row.appendChild(tdEmail);
row.appendChild(tdSalary);
row.appendChild(tdPhone);
row.appendChild(tdGender);

// μµμΆ…μ μΌλ΅ ν…μ΄λΈ”μ— μ¶”κ°€
tableBody.appendChild(row);













function renderEmployeeList(employees) {
const tableBody = document.getElementById("employeeTable");

if (!tableBody) {
console.error("π¨ employeeTable μ”μ†κ°€ μ΅΄μ¬ν•μ§€ μ•μµλ‹λ‹¤!");
return;
}

tableBody.innerHTML = ""; // κΈ°μ΅΄ λ°μ΄ν„° μ΄κΈ°ν™”

employees.forEach(employee => {
console.log("π“Ά μ§μ› λ°μ΄ν„° ν™•μΈ:", employee);
console.log("π“Ά salary κ°’:", employee.salary);
console.log("π“Ά salary νƒ€μ… ν™•μΈ:", typeof employee.salary, employee.salary);

// π¨ salary κΈ°λ³Έκ°’ μ„¤μ •
const salary = employee.salary ? `${employee.salary.toLocaleString()}μ›` : "β μ—†μ";
console.log("π“Ά innerHTMLλ΅ λ“¤μ–΄κ°€λ” κ°’:", `<td>${salary}</td>`);

const row = document.createElement("tr");

const tdSalary = document.createElement("td");
tdSalary.innerText = salary;  // π€ textContent β†’ innerText λ³€κ²½

row.appendChild(tdSalary);
tableBody.appendChild(row);
});
}